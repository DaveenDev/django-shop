{% extends 'without_menu.html' %}

{% block page_title %} Checkout Page {% endblock  %}

{% block page_content %}
<div class="container">
    <div class="row">
        <div class="col-md-12">
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th scope="col">Product</th>
                <th scope="col">Qty</th>
                <th scope="col" align='right'>Price</th>
                <th scope="col" align='right'>Line Total</th>
              </tr>
            </thead>
            <tbody id="list_item">
              <!-- list item goes here-->
            </tbody>
          </table>
        </div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <form>
          <div class="form-row">
            <div class="form-group col-md-4">
              <label for="firstname">Firstname</label>
              <input type="text" class="form-control" id="firstname" name="firstname" placeholder="firstname">
            </div>
            <div class="form-group col-md-4">
              <label for="lastname">Lastname</label>
              <input type="text" class="form-control" id="lastname" name="lastname" placeholder="lastname">
            </div>
            <div class="form-group col-md-4">
              <label for="customer_email">Email</label>
              <input type="email" class="form-control" id="customer_email" name="customer_email" placeholder="Email">
            </div>
          </div>
          <div class="form-group">
            <label for="inputAddress">Address</label>
            <input type="text" class="form-control" id="address1" name="address1" placeholder="1234 Main St">
          </div>
          <div class="form-group">
            <label for="inputAddress2">Address 2</label>
            <input type="text" class="form-control" id="address2" name="address2" placeholder="Apartment, studio, or floor">
          </div>
          <div class="form-row">
            <div class="form-group col-md-6">
              <label for="city">City</label>
              <input type="text" class="form-control" id="city" name="city">
            </div>
            <div class="form-group col-md-4">
              <label for="state">State</label>
              <select id="state" name="state" class="form-control">
                <option selected>Choose...</option>
                <option>...</option>
              </select>
            </div>
            <div class="form-group col-md-2">
              <label for="zip_code">Zip</label>
              <input type="text" class="form-control" id="zip_code" name="zip_code">
            </div>
          </div>

          <button type="submit" class="btn btn-primary">Place Order</button>
        </form>
      </div>
    </div>
</div>

{% endblock  %}


{% block page_js %}

<script type="text/javascript">

  if (localStorage.getItem('cart')==null){
    var cart = {}
  } else {
    cart = JSON.parse(localStorage.getItem('cart'))
  }

  for (var item_id in cart){
    var item_name = cart[item_id][1]
    var qty = parseInt(cart[item_id][0])
    var price = parseFloat(cart[item_id][2])
    line_total = qty * price
    var list_item = "<tr>\
                    <th scope='row'>"+ item_name +"</th>\
                    <td>"+ qty +"</td>\
                    <td>$"+ price +"</td>\
                    <td>$"+ line_total +"</td>\
                    </tr>"
    $('#list_item').append(list_item)
  }

</script>
{% endblock  %}